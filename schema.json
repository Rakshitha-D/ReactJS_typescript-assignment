{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Form",
  "type": "object",
  "properties": {
    "personal_details": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "minLength": 3,
          "maxLength": 20
        },
        "date_of_birth": {
          "type": "string",
          "format": "date-time",
          "formatMaximum": "2006-01-01"
        },
        "gender": {
          "type": "string",
          "enum": ["Male", "Female", "Prefer not to say"]
        },
        "address": {
          "type": "string",
          "maxLength": 50
        },
        "current_location": {
          "type": "integer"
        },
        "aadhar_card_number": {
          "type": "string",
          "minLength": 12,
          "maxLength": 12,
          "pattern": "^[2-9]{1}[0-9]{3}\\s[0-9]{4}\\s[0-9]{4}$"
        },
        "mobile_number": {
          "type": "integer",
          "pattern": "^(\\+91[\\-\\s]?)?[0]?(91)?[789]\\d{9}$"
        }
      },
      "required": [
        "name",
        "date_of_birth",
        "gender",
        "current_location",
        "aadhar_card_number",
        "mobile_number"
      ],
      "additionalProperties": false
    },
    "education_qualifications": {
      "type": "object",
      "properties": {
        "education_summary": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "SSC",
              "HSC",
              "Diploma",
              "Undergraduate",
              "Postgraduate",
              "None"
            ]
          },
          "minItems": 1,
          "uniqueItems": true
        },
        "certification": {
          "type": "string",
          "format": "binary"
        }
      },
      "additionalProperties": false
    },
    "career_preferences": {
      "type": "object",
      "properties": {
        "job": {
          "type": "object",
          "properties": {
            "job_role": {
              "type": "string",
              "enum": ["Entry-level", "Associate", "Senior", "HR"]
            },
            "job_type": {
              "type": "string",
              "enum": ["Internship", "Full-time", "Part-time"]
            }
          },
          "additionalItems": false
        },
        "learning_goals": {
          "type": "array",
          "items": {
            "type": "array",
            "items": true
          },
          "uniqueItems": true
        },
        "workplace": {
          "type": "string",
          "enum": ["On-site", "Remote", "Hybrid"]
        },
        "prefered_work_location": {
          "type": "integer"
        }
      },
      "if": {
        "properties": {
          "workplace": { "const": "Remote" }
        }
      },
      "then": {
        "not": { "required": ["prefered_work_location"] }
      },
      "additionalProperties": false
    }
  },
  "required": ["personal_details", "education_qualification", "preferences"],
  "additionalProperties": false
}
